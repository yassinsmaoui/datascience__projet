<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://unpkg.com/d3@5.6.0/dist/d3.min.js"></script>
    <script src="https://unpkg.com/topojson@3.0.2/dist/topojson.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.9.1/d3-tip.min.js"></script>

    <link rel="stylesheet" href="style.css" />

    <title>Visualisation du Ch√¥mage au Maroc</title>
  </head>
  <body>
    <!-- Header with title and controls -->
    <header class="header">
      <h1>Analyse du Taux de Ch√¥mage par R√©gion au Maroc</h1>
      <div class="controls">
        <div class="control-group">
          <label for="year-select">Ann√©e:</label>
          <select id="year-select">
            <option value="2023">2023</option>
            <option value="2022">2022</option>
            <option value="2021">2021</option>
            <option value="2020">2020</option>
            <option value="2019">2019</option>
            <option value="2018">2018</option>
            <option value="2017">2017</option>
            <option value="2016">2016</option>
            <option value="2015">2015</option>
          </select>
        </div>
        <div class="control-group">
          <label for="sex-select">Sexe:</label>
          <select id="sex-select">
            <option value="Total">Total</option>
            <option value="Masculin">Masculin</option>
            <option value="F√©minin">F√©minin</option>
          </select>
        </div>
        <button id="export-btn" class="export-btn">üìä Exporter les donn√©es</button>
        <button id="compare-btn" class="compare-btn">‚öñÔ∏è Mode Comparaison</button>
      </div>
    </header>

    <!-- Main dashboard container -->
    <div class="dashboard">
      <!-- Map section (50%) -->
      <div class="viz-container map-container">
        <h2>Carte Choropl√®the du Maroc</h2>
        <div id="selected-region" class="selected-info">Survolez une r√©gion pour voir les statistiques</div>
        <svg id="map-svg"></svg>
        <div id="legend" class="legend"></div>
      </div>

      <!-- Pie chart section (25%) -->
      <div class="viz-container pie-container">
        <h2>R√©partition Urbain/Rural</h2>
        <div id="pie-info" class="chart-info">Survolez une r√©gion</div>
        <svg id="pie-svg"></svg>
      </div>

      <!-- Bar chart section (25%) -->
      <div class="viz-container bar-container">
        <h2>√âvolution Temporelle (2015-2023)</h2>
        <div id="bar-info" class="chart-info">Survolez une r√©gion</div>
        <svg id="bar-svg"></svg>
      </div>
    </div>

    <!-- Comparison modal -->
    <div id="comparison-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Comparaison entre R√©gions</h2>
        <div class="comparison-controls">
          <div class="control-group">
            <label for="region1-select">R√©gion 1:</label>
            <select id="region1-select"></select>
          </div>
          <div class="control-group">
            <label for="region2-select">R√©gion 2:</label>
            <select id="region2-select"></select>
          </div>
        </div>
        <svg id="comparison-svg"></svg>
      </div>
    </div>

    <!-- Loading indicator -->
    <div id="loading" class="loading">
      <div class="spinner"></div>
      <p>Chargement des donn√©es...</p>
    </div>

    <!-- Scripts -->
    <script src="dataProcessor.js"></script>
    <script src="app.js"></script>
  </body>
</html>
